export const translations = {
  en: {
    // Header
    brandName: "Personality Bank",
    nav: {
      dashboard: "Dashboard",
      assessments: "Assessments", 
      community: "Community",
      growth: "Growth"
    },
    
    // Dashboard
    dashboard: {
      welcomeBack: "Welcome back",
      continueJourney: "Continue your personality development journey and discover new insights about yourself.",
      continueAssessment: "Continue Assessment",
      exploreCommunity: "Explore Community",
      assessmentProgress: "Assessment Progress",
      viewAll: "View All",
      noAssessments: "No assessments started yet",
      startFirst: "Start Your First Assessment",
      aiRecommendations: "AI-Powered Recommendations",
      recentActivity: "Recent Activity",
      completedModule: "Completed Openness to Experience module",
      hoursAgo: "hours ago",
      scoreImproved: "Conscientiousness score improved by 15%",
      dayAgo: "day ago",
      communitySpotlight: "Community Spotlight",
      activeMember: "Active Community Member",
      growthStats: "Growth Statistics",
      daysActive: "Days Active",
      assessmentsCompleted: "Assessments Completed",
      growthScore: "Growth Score",
      communityRank: "Community Rank",
      topPercent: "Top 25%"
    },

    // Assessment
    assessment: {
      question: "Assessment Question",
      estimatedTime: "Estimated time",
      minutesRemaining: "minutes remaining",
      agreeStatement: "How much do you agree with the following statement?",
      previous: "Previous",
      next: "Next",
      saveProgress: "Save Progress",
      completeAssessment: "Complete Assessment",
      completed: "Assessment Completed!",
      congratulations: "Congratulations! You've successfully completed the",
      profileGenerating: "Your personality profile is being generated and will be available shortly.",
      viewResults: "View Your Results",
      backToDashboard: "Back to Dashboard",
      progressSaved: "Progress Saved",
      continueLater: "You can continue this assessment later.",
      complete: "Complete",
      startNow: "Start Now",
      continue: "Continue"
    },

    // Community
    community: {
      title: "Community",
      subtitle: "Connect with others on their personality development journey and share insights.",
      searchMembers: "Search community members...",
      joinDiscussion: "Join Discussion",
      stats: "Community Stats",
      activeMembers: "Active Members",
      assessmentsCompleted: "Assessments Completed",
      growthAchievements: "Growth Achievements",
      trendingTopics: "Trending Topics",
      leadership: "Leadership Development",
      emotionalIntelligence: "Emotional Intelligence",
      careerGrowth: "Career Growth",
      communication: "Communication Skills",
      members: "Community Members",
      discoverConnect: "Discover and connect with members who have chosen to share their profiles publicly.",
      noPublicProfiles: "No Public Profiles Yet",
      beFirst: "Be the first to make your profile public and connect with the community!",
      makePublic: "Make Profile Public",
      focusedGrowth: "Focused on personal growth and development",
      growthMindset: "Growth Mindset"
    },

    // Profile  
    profile: {
      joined: "Joined",
      assessments: "Assessments",
      editProfile: "Edit Profile",
      share: "Share",
      personalityOverview: "Your Personality Profile",
      assessmentHistory: "Assessment History",
      completed: "Completed",
      noCompletedAssessments: "No completed assessments yet",
      personalityInsights: "Personality Insights",
      keyStrengths: "Key Strengths",
      growthAreas: "Growth Areas",
      privacySettings: "Privacy Settings",
      publicProfile: "Public Profile",
      public: "Public",
      private: "Private",
      profileDescription: "When your profile is public, other community members can view your personality insights and growth journey.",
      updatePrivacy: "Update Privacy Settings",
      privateProfileTitle: "Private Profile",
      privateProfileMessage: "This user has chosen to keep their profile private.",
      userNotFound: "User Not Found",
      profileNotExist: "The profile you're looking for doesn't exist.",
      completeAssessment: "Complete a personality assessment to see your profile",
      takeAssessment: "Take Assessment",
      viewFullProfile: "View Full Profile"
    },

    // Personality Traits
    traits: {
      openness: "Openness",
      conscientiousness: "Conscientiousness",
      extraversion: "Extraversion", 
      agreeableness: "Agreeableness",
      neuroticism: "Neuroticism"
    },

    // Assessment Options
    options: {
      stronglyDisagree: "Strongly Disagree",
      disagree: "Disagree",
      neither: "Neither Agree nor Disagree", 
      agree: "Agree",
      stronglyAgree: "Strongly Agree"
    },

    // Categories
    categories: {
      career: "Career Development",
      relationships: "Relationships",
      habits: "Healthy Habits"
    },

    // Common
    common: {
      loading: "Loading...",
      error: "Error",
      tryAgain: "Please try again",
      learnMore: "Learn More"
    }
  },
  
  zh: {
    // Header
    brandName: "性格银行",
    nav: {
      dashboard: "仪表板",
      assessments: "测评",
      community: "社区", 
      growth: "成长"
    },

    // Dashboard
    dashboard: {
      welcomeBack: "欢迎回来",
      continueJourney: "继续您的性格发展之旅，发现关于自己的新见解。",
      continueAssessment: "继续测评",
      exploreCommunity: "探索社区",
      assessmentProgress: "测评进度",
      viewAll: "查看全部",
      noAssessments: "尚未开始任何测评",
      startFirst: "开始您的第一个测评",
      aiRecommendations: "AI 个性化推荐",
      recentActivity: "最近活动",
      completedModule: "完成了开放性体验模块",
      hoursAgo: "小时前",
      scoreImproved: "尽责性得分提升了15%",
      dayAgo: "天前",
      communitySpotlight: "社区聚焦",
      activeMember: "活跃社区成员",
      growthStats: "成长统计",
      daysActive: "活跃天数",
      assessmentsCompleted: "完成测评",
      growthScore: "成长得分",
      communityRank: "社区排名",
      topPercent: "前25%"
    },

    // Assessment
    assessment: {
      question: "测评问题",
      estimatedTime: "预计时间",
      minutesRemaining: "分钟剩余",
      agreeStatement: "您对以下陈述的同意程度如何？",
      previous: "上一题",
      next: "下一题",
      saveProgress: "保存进度",
      completeAssessment: "完成测评",
      completed: "测评已完成！",
      congratulations: "恭喜！您已成功完成",
      profileGenerating: "您的性格档案正在生成中，稍后即可查看。",
      viewResults: "查看结果",
      backToDashboard: "返回仪表板",
      progressSaved: "进度已保存",
      continueLater: "您可以稍后继续此测评。",
      complete: "已完成",
      startNow: "立即开始",
      continue: "继续"
    },

    // Community
    community: {
      title: "社区",
      subtitle: "与其他正在进行性格发展之旅的人建立联系并分享见解。",
      searchMembers: "搜索社区成员...",
      joinDiscussion: "加入讨论",
      stats: "社区统计",
      activeMembers: "活跃成员",
      assessmentsCompleted: "完成测评",
      growthAchievements: "成长成就",
      trendingTopics: "热门话题",
      leadership: "领导力发展",
      emotionalIntelligence: "情商",
      careerGrowth: "职业成长",
      communication: "沟通技巧",
      members: "社区成员",
      discoverConnect: "发现并联系选择公开分享个人资料的成员。",
      noPublicProfiles: "暂无公开档案",
      beFirst: "成为第一个公开个人资料并与社区建立联系的人！",
      makePublic: "公开个人资料",
      focusedGrowth: "专注于个人成长和发展",
      growthMindset: "成长心态"
    },

    // Profile
    profile: {
      joined: "加入于",
      assessments: "测评",
      editProfile: "编辑资料",
      share: "分享",
      personalityOverview: "您的性格档案",
      assessmentHistory: "测评历史",
      completed: "已完成",
      noCompletedAssessments: "暂无完成的测评",
      personalityInsights: "性格洞察",
      keyStrengths: "主要优势",
      growthAreas: "成长领域",
      privacySettings: "隐私设置",
      publicProfile: "公开档案",
      public: "公开",
      private: "私密",
      profileDescription: "当您的档案公开时，其他社区成员可以查看您的性格洞察和成长历程。",
      updatePrivacy: "更新隐私设置",
      privateProfileTitle: "私密档案",
      privateProfileMessage: "此用户选择将其档案设为私密。",
      userNotFound: "未找到用户",
      profileNotExist: "您查找的档案不存在。",
      completeAssessment: "完成性格测评以查看您的档案",
      takeAssessment: "开始测评",
      viewFullProfile: "查看完整档案"
    },

    // Personality Traits
    traits: {
      openness: "开放性",
      conscientiousness: "尽责性",
      extraversion: "外向性",
      agreeableness: "宜人性", 
      neuroticism: "神经质"
    },

    // Assessment Options
    options: {
      stronglyDisagree: "非常不同意",
      disagree: "不同意",
      neither: "既不同意也不反对",
      agree: "同意",
      stronglyAgree: "非常同意"
    },

    // Categories
    categories: {
      career: "职业发展",
      relationships: "人际关系",
      habits: "健康习惯"
    },

    // Common
    common: {
      loading: "加载中...",
      error: "错误",
      tryAgain: "请重试",
      learnMore: "了解更多"
    }
  }
};

export type Language = 'en' | 'zh';
export type TranslationKey = keyof typeof translations.en;

let currentLanguage: Language = 'en';

export const setLanguage = (lang: Language) => {
  currentLanguage = lang;
  localStorage.setItem('language', lang);
};

export const getLanguage = (): Language => {
  if (typeof window !== 'undefined') {
    const saved = localStorage.getItem('language') as Language;
    if (saved && ['en', 'zh'].includes(saved)) {
      currentLanguage = saved;
      return saved;
    }
  }
  return currentLanguage;
};

export const t = (key: string): string => {
  const lang = getLanguage();
  const keys = key.split('.');
  let value: any = translations[lang];
  
  for (const k of keys) {
    value = value?.[k];
  }
  
  return value || key;
};

// Initialize language from localStorage
if (typeof window !== 'undefined') {
  const saved = localStorage.getItem('language') as Language;
  if (saved && ['en', 'zh'].includes(saved)) {
    currentLanguage = saved;
  }
}